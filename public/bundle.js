!function(t){var e={};function s(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},s.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}({0:function(t,e,s){"use strict";s.r(e);s(5);var i=class{constructor(){this.sessionTime=document.querySelector("#sessionTime"),this.shortBreak=document.querySelector("#shortBreakTime"),this.longBreak=document.querySelector("#longBreakTime"),this.sessionStatus=document.querySelector("#status"),this.progressBar=document.querySelector(".main-bar"),this.progressBarContainer=document.querySelector("#progress-bar-container"),this.progressBarWidth=100,this.progressBarTime=document.querySelector("#progress-bar-time"),this.descriptionQuestion=document.querySelector("#descriptionQuestion"),this.resetButton=document.querySelector(".resetButton"),this.sound1=new Audio("./sounds/timeForBreak.ogg"),this.sound2=new Audio("./sounds/timeToWork.ogg"),this.sound3=new Audio("./sounds/long_break.mp3")}updateUiElement(t,e){t.textContent=e}displayTime(t){const e=t.getMinutes(),s=t.getSeconds();this.progressBarTime.textContent=`${e<10?`0${e}`:e} : ${s<10?`0${s}`:s}`}animateProgressBar(t){this.progressBar.style.width=`${t}%`}colorProgressBar(t){"Session"===t?this.progressBar.style.backgroundColor="#ffeb3b":"Break"===t?this.progressBar.style.backgroundColor="#89ff00":"Long Break"===t&&(this.progressBar.style.backgroundColor="#6ad3ff")}displayState(t){this.sessionStatus.textContent=t}playSound(t){"Session"===t?this.sound2.play():"Break"===t?this.sound1.play():"Long Break"===t&&this.sound3.play()}};var n=class{constructor(){this.startTime=null,this.endTime=null,this.sessionTime=25,this.shortBreak=5,this.longBreak=30,this.isRunning=!1,this.state="",this.stateDuration=0,this.completedSessions=0,this.interval=null,this.oneSec=1e3,this.ui=null}start(){""===this.state&&null===this.startTime?(this.state="Session",this.startTime=(new Date).getTime(),this.endTime=this.startTime+60*this.sessionTime*this.oneSec,this.stateDuration=this.endTime-this.startTime,this.isRunning=!0,this.ui.displayState(`${"Session"===this.state?`${this.state} #${this.completedSessions+1}`:this.state}`),this.updateTime(),this.ui.colorProgressBar(this.state),this.countDown()):this.pauseResume()}startSession(){"Session"===this.state&&(this.ui.playSound(this.state),console.log("click"),this.startTime=(new Date).getTime(),this.endTime=this.startTime+60*this.sessionTime*this.oneSec,this.stateDuration=this.endTime-this.startTime,this.isRunning||(this.isRunning=!0),this.ui.displayState(`${"Session"===this.state?`${this.state} #${this.completedSessions+1}`:this.state}`),this.updateTime(),this.ui.colorProgressBar(this.state),this.countDown())}countDown(){this.isRunning&&(this.startTime<this.endTime?this.interval=setTimeout(()=>{this.updateTime(),this.countDown()},this.oneSec):(console.log("Finished"),"Session"===this.state?(this.completedSessions++,this.startBreak()):(this.state="Session",this.startSession())))}pauseResume(){this.isRunning?(this.isRunning=!1,clearTimeout(this.interval),this.ui.displayState("Pause")):(this.isRunning=!0,this.ui.displayState(`${"Session"===this.state?`${this.state} #${this.completedSessions+1}`:this.state}`),this.countDown())}reset(){clearTimeout(this.interval),this.interval=null,this.startTime=null,this.endTime=null,this.isRunning=!1,this.completedSessions=0,this.state="",console.log("reseting")}updateTime(){this.startTime=this.startTime+this.oneSec;const t=new Date;t.setTime(this.endTime-this.startTime),this.ui.displayTime(t),this.ui.animateProgressBar(100*(this.endTime-this.startTime)/this.stateDuration),this.ui.displayState(`${"Session"===this.state?`${this.state} #${this.completedSessions+1}`:this.state}`)}startBreak(){this.completedSessions%4!=0?(this.state="Break",this.startTime=(new Date).getTime(),this.endTime=this.startTime+60*this.shortBreak*this.oneSec,this.ui.colorProgressBar(this.state),this.ui.playSound(this.state)):(this.state="Long Break",this.startTime=(new Date).getTime(),this.endTime=this.startTime+60*this.longBreak*this.oneSec,this.ui.colorProgressBar(this.state),this.ui.playSound(this.state)),this.stateDuration=this.endTime-this.startTime,this.updateTime(),this.countDown()}};!function(){const t=new i,e=new n,s=new class{addListeners(){document.querySelector("#progress-bar-container").addEventListener("click",this.start),t.resetButton.addEventListener("click",this.reset),document.querySelector("#sessionTimeAdd").addEventListener("click",t=>this.changeTimeValue(t,"sessionTime")),document.querySelector("#sessionTimeSub").addEventListener("click",t=>this.changeTimeValue(t,"sessionTime")),document.querySelector("#shortBreakTimeAdd").addEventListener("click",t=>this.changeTimeValue(t,"shortBreak")),document.querySelector("#shortBreakTimeSub").addEventListener("click",t=>this.changeTimeValue(t,"shortBreak")),document.querySelector("#longBreakTimeAdd").addEventListener("click",t=>this.changeTimeValue(t,"longBreak")),document.querySelector("#longBreakTimeSub").addEventListener("click",t=>this.changeTimeValue(t,"longBreak"))}changeTimeValue(s,i){"+"===s.target.textContent?(e[i]++,t.updateUiElement(t[i],e[i]),console.log(e[i])):(e[i]--,e[i]<1&&(e[i]=1),t.updateUiElement(t[i],e[i]),console.log(e[i]))}start(){e.start()}pauseResume(){this.pauseResume().bind(e)}reset(){e.reset(),t.progressBarTime.textContent="Click here to Start/Pause",t.animateProgressBar(100),t.displayState("Do it. NOW!!!"),t.colorProgressBar("Session")}init(){this.addListeners(),t.progressBarTime.textContent="Click here to Start/Pause",t.sessionTime.textContent=e.sessionTime,t.shortBreak.textContent=e.shortBreak,t.longBreak.textContent=e.longBreak}};t.app=s,t.timer=e,e.ui=t,e.app=s,s.init()}()},5:function(t,e){}});